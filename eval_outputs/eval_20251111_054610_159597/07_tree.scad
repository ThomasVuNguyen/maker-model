// Generated by CadMonkey
// Prompt: hey cadmonkey, create me a tree
// Generated at: 2025-11-11 05:54:16

// Realistic Tree Plant - Medium Complexity
// Designed for 3D printing (no overhangs, 1.2mm walls)

$fn = 32; // Smooth curves for printing

module trunk() {
    difference() {
        union() {
            // Main trunk cylinder
            translate([0, 0, 5])
                rotate_extrude(angle=180)
                    translate([8, 0, 0])
                        circle(r=3);
            
            // Branching structure
            for(i=[0:45:315]) {
                rotate([0, 0, i])
                    translate([12, 0, 10])
                        rotate([30, 0, 0])
                            cylinder(h=15, r1=2.5, r2=1.5);
            }
        }
        
        // Hollow out for material saving
        translate([0, 0, 6])
            rotate_extrude(angle=180)
                translate([7.5, 0, 0])
                    circle(r=2);
    }
}

module foliage_cluster(height) {
    // Individual leaf cluster
    translate([0, 0, height])
    union() {
        // Central stem
        cylinder(h=height*0.6, r=2);
        
        // Leaf clusters on main stems
        for(pos=[[0,0,height*0.25],[0,height*0.35,height*0.50],[0,height*0.55,height*0.70]]) {
            translate(pos)
            rotate([rand(0,360), rand(0,360), rand(0,360)])
                scale([1, 1.2, 1])
                    sphere(d=height*0.8);
        }
        
        // Secondary branches
        for(ang=[[0,90], [120,240]]) {
            rotate(ang)
                translate([0, 0, height*0.4])
                    rotate([30, 0, 0])
                        cylinder(h=height*0.4, r=1);
        }
    }
}

module root_system() {
    // Base for stability
    translate([0, 0, -5])
    difference() {
        cylinder(h=10, r=20);
        translate([0, 0, -1])
            cylinder(h=12, r=18);
    }
    
    // Root hairs
    for(i=[0:45:315]) {
        rotate([0, 0, i])
        translate([14, 0, -9])
            rotate([90+rand(0,60), 0, 0])
                cylinder(h=rand(3,6), r1=1, r2=0.5);
    }
}

// Main assembly
union() {
    // Trunk and base
    trunk();
    translate([0, 0, 5])
        cylinder(h=10, r=12);
    
    // Root system at bottom
    root_system();
    
    // Foliage clusters above ground
    translate([0, 0, 30])
        foliage_cluster(40);
    translate([0, 0, 25])
        foliage_cluster(35);
    translate([0, 0, 20])
        foliage_cluster(30);
}